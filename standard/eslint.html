<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ESLint 规范 | 涂洋-得意洋洋的生活！</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="shortcut icon" type="image/x-icon" href="/myBlog/favicon.ico">
    <link rel="manifest" href="/myBlog/manifest.json">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_2343212_wc0gkht90m.css">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <meta name="description" content="涂洋-得意洋洋的生活！">
    
    <link rel="preload" href="/myBlog/assets/css/0.styles.d7353a58.css" as="style"><link rel="preload" href="/myBlog/assets/js/app.0f493eff.js" as="script"><link rel="preload" href="/myBlog/assets/js/4.c517c277.js" as="script"><link rel="preload" href="/myBlog/assets/js/1.4d746d8b.js" as="script"><link rel="preload" href="/myBlog/assets/js/109.7afe8496.js" as="script"><link rel="preload" href="/myBlog/assets/js/20.913b84db.js" as="script"><link rel="prefetch" href="/myBlog/assets/js/100.1256fabd.js"><link rel="prefetch" href="/myBlog/assets/js/101.3415aa76.js"><link rel="prefetch" href="/myBlog/assets/js/102.c59950d7.js"><link rel="prefetch" href="/myBlog/assets/js/103.9632dd3a.js"><link rel="prefetch" href="/myBlog/assets/js/104.9f98c534.js"><link rel="prefetch" href="/myBlog/assets/js/105.ec464b3f.js"><link rel="prefetch" href="/myBlog/assets/js/106.32227c78.js"><link rel="prefetch" href="/myBlog/assets/js/107.a04b1b98.js"><link rel="prefetch" href="/myBlog/assets/js/108.c2910e82.js"><link rel="prefetch" href="/myBlog/assets/js/11.d7523574.js"><link rel="prefetch" href="/myBlog/assets/js/110.22b695af.js"><link rel="prefetch" href="/myBlog/assets/js/111.0b237381.js"><link rel="prefetch" href="/myBlog/assets/js/112.690ed31d.js"><link rel="prefetch" href="/myBlog/assets/js/113.b8cc5850.js"><link rel="prefetch" href="/myBlog/assets/js/114.efdb2e0f.js"><link rel="prefetch" href="/myBlog/assets/js/115.d49b76cb.js"><link rel="prefetch" href="/myBlog/assets/js/116.8ba361a4.js"><link rel="prefetch" href="/myBlog/assets/js/117.3e47151d.js"><link rel="prefetch" href="/myBlog/assets/js/118.cde1bac2.js"><link rel="prefetch" href="/myBlog/assets/js/119.a4ee7421.js"><link rel="prefetch" href="/myBlog/assets/js/12.dacb4705.js"><link rel="prefetch" href="/myBlog/assets/js/120.b900991d.js"><link rel="prefetch" href="/myBlog/assets/js/121.e16d7e9e.js"><link rel="prefetch" href="/myBlog/assets/js/122.5f8c0baa.js"><link rel="prefetch" href="/myBlog/assets/js/123.d06ce857.js"><link rel="prefetch" href="/myBlog/assets/js/124.c406ada7.js"><link rel="prefetch" href="/myBlog/assets/js/125.be1cdb68.js"><link rel="prefetch" href="/myBlog/assets/js/126.54a7d746.js"><link rel="prefetch" href="/myBlog/assets/js/127.ce9f13f2.js"><link rel="prefetch" href="/myBlog/assets/js/128.34f35209.js"><link rel="prefetch" href="/myBlog/assets/js/129.7fca0ccb.js"><link rel="prefetch" href="/myBlog/assets/js/13.f6791652.js"><link rel="prefetch" href="/myBlog/assets/js/130.ad80e2fb.js"><link rel="prefetch" href="/myBlog/assets/js/131.bc10544f.js"><link rel="prefetch" href="/myBlog/assets/js/132.b9b8afb2.js"><link rel="prefetch" href="/myBlog/assets/js/133.dce9eea2.js"><link rel="prefetch" href="/myBlog/assets/js/134.f08637a8.js"><link rel="prefetch" href="/myBlog/assets/js/135.bafb766f.js"><link rel="prefetch" href="/myBlog/assets/js/136.3e0112f1.js"><link rel="prefetch" href="/myBlog/assets/js/137.9d2884d2.js"><link rel="prefetch" href="/myBlog/assets/js/138.07b3cff8.js"><link rel="prefetch" href="/myBlog/assets/js/139.49094ddf.js"><link rel="prefetch" href="/myBlog/assets/js/14.fb7d8a59.js"><link rel="prefetch" href="/myBlog/assets/js/140.657644ee.js"><link rel="prefetch" href="/myBlog/assets/js/141.a2ea8b32.js"><link rel="prefetch" href="/myBlog/assets/js/142.d5524ebb.js"><link rel="prefetch" href="/myBlog/assets/js/143.5f53abeb.js"><link rel="prefetch" href="/myBlog/assets/js/144.8aaccf07.js"><link rel="prefetch" href="/myBlog/assets/js/145.002a4664.js"><link rel="prefetch" href="/myBlog/assets/js/146.efbb6fe6.js"><link rel="prefetch" href="/myBlog/assets/js/147.a608b625.js"><link rel="prefetch" href="/myBlog/assets/js/148.a0104aad.js"><link rel="prefetch" href="/myBlog/assets/js/149.09285b84.js"><link rel="prefetch" href="/myBlog/assets/js/15.2c599b26.js"><link rel="prefetch" href="/myBlog/assets/js/150.0b855638.js"><link rel="prefetch" href="/myBlog/assets/js/151.3af22569.js"><link rel="prefetch" href="/myBlog/assets/js/152.e54ba8b0.js"><link rel="prefetch" href="/myBlog/assets/js/153.399554ed.js"><link rel="prefetch" href="/myBlog/assets/js/154.a62b14d2.js"><link rel="prefetch" href="/myBlog/assets/js/155.64a2e674.js"><link rel="prefetch" href="/myBlog/assets/js/156.a9130b09.js"><link rel="prefetch" href="/myBlog/assets/js/157.6cdbf308.js"><link rel="prefetch" href="/myBlog/assets/js/158.fdc28ca4.js"><link rel="prefetch" href="/myBlog/assets/js/159.07de8353.js"><link rel="prefetch" href="/myBlog/assets/js/16.3967edf3.js"><link rel="prefetch" href="/myBlog/assets/js/160.d1e41a5e.js"><link rel="prefetch" href="/myBlog/assets/js/161.4bcc8e72.js"><link rel="prefetch" href="/myBlog/assets/js/162.bdcf085b.js"><link rel="prefetch" href="/myBlog/assets/js/163.dd31938e.js"><link rel="prefetch" href="/myBlog/assets/js/164.534076de.js"><link rel="prefetch" href="/myBlog/assets/js/165.df2afddf.js"><link rel="prefetch" href="/myBlog/assets/js/166.a7d28c79.js"><link rel="prefetch" href="/myBlog/assets/js/17.4d5a3a5c.js"><link rel="prefetch" href="/myBlog/assets/js/18.b9085e34.js"><link rel="prefetch" href="/myBlog/assets/js/19.97d7b1d3.js"><link rel="prefetch" href="/myBlog/assets/js/2.8f40e5dc.js"><link rel="prefetch" href="/myBlog/assets/js/21.d1639bf8.js"><link rel="prefetch" href="/myBlog/assets/js/22.a881c313.js"><link rel="prefetch" href="/myBlog/assets/js/23.b773cea9.js"><link rel="prefetch" href="/myBlog/assets/js/24.b02f5711.js"><link rel="prefetch" href="/myBlog/assets/js/25.6c79d5a6.js"><link rel="prefetch" href="/myBlog/assets/js/26.42867aa7.js"><link rel="prefetch" href="/myBlog/assets/js/27.7d8fc9c9.js"><link rel="prefetch" href="/myBlog/assets/js/28.7806f147.js"><link rel="prefetch" href="/myBlog/assets/js/29.d793d442.js"><link rel="prefetch" href="/myBlog/assets/js/3.90c81bfd.js"><link rel="prefetch" href="/myBlog/assets/js/30.d5959ec7.js"><link rel="prefetch" href="/myBlog/assets/js/31.a19367bd.js"><link rel="prefetch" href="/myBlog/assets/js/32.fa7be673.js"><link rel="prefetch" href="/myBlog/assets/js/33.b378f0d3.js"><link rel="prefetch" href="/myBlog/assets/js/34.e9fc7dde.js"><link rel="prefetch" href="/myBlog/assets/js/35.5fc36482.js"><link rel="prefetch" href="/myBlog/assets/js/36.95a7c687.js"><link rel="prefetch" href="/myBlog/assets/js/37.4d5c933d.js"><link rel="prefetch" href="/myBlog/assets/js/38.73a1a19e.js"><link rel="prefetch" href="/myBlog/assets/js/39.d7ad018c.js"><link rel="prefetch" href="/myBlog/assets/js/40.5eb410fd.js"><link rel="prefetch" href="/myBlog/assets/js/41.fd8863d9.js"><link rel="prefetch" href="/myBlog/assets/js/42.ec9f68ae.js"><link rel="prefetch" href="/myBlog/assets/js/43.41656337.js"><link rel="prefetch" href="/myBlog/assets/js/44.da46d9cd.js"><link rel="prefetch" href="/myBlog/assets/js/45.24d737c4.js"><link rel="prefetch" href="/myBlog/assets/js/46.ec44d9a9.js"><link rel="prefetch" href="/myBlog/assets/js/47.68c53bb7.js"><link rel="prefetch" href="/myBlog/assets/js/48.a1803ff7.js"><link rel="prefetch" href="/myBlog/assets/js/49.7f56556c.js"><link rel="prefetch" href="/myBlog/assets/js/5.e280bf1a.js"><link rel="prefetch" href="/myBlog/assets/js/50.d7a6e439.js"><link rel="prefetch" href="/myBlog/assets/js/51.c40cb53b.js"><link rel="prefetch" href="/myBlog/assets/js/52.182e6c2d.js"><link rel="prefetch" href="/myBlog/assets/js/53.f0366ca2.js"><link rel="prefetch" href="/myBlog/assets/js/54.33bb459d.js"><link rel="prefetch" href="/myBlog/assets/js/55.9d79da62.js"><link rel="prefetch" href="/myBlog/assets/js/56.afaddb0d.js"><link rel="prefetch" href="/myBlog/assets/js/57.07c20b28.js"><link rel="prefetch" href="/myBlog/assets/js/58.a65a37d5.js"><link rel="prefetch" href="/myBlog/assets/js/59.07587784.js"><link rel="prefetch" href="/myBlog/assets/js/6.dc868267.js"><link rel="prefetch" href="/myBlog/assets/js/60.68d98640.js"><link rel="prefetch" href="/myBlog/assets/js/61.69fbb56d.js"><link rel="prefetch" href="/myBlog/assets/js/62.4d4ff4ea.js"><link rel="prefetch" href="/myBlog/assets/js/63.c143d173.js"><link rel="prefetch" href="/myBlog/assets/js/64.dc65d829.js"><link rel="prefetch" href="/myBlog/assets/js/65.5665e4e3.js"><link rel="prefetch" href="/myBlog/assets/js/66.6e4bb3b8.js"><link rel="prefetch" href="/myBlog/assets/js/67.b9275bae.js"><link rel="prefetch" href="/myBlog/assets/js/68.e754cce7.js"><link rel="prefetch" href="/myBlog/assets/js/69.44b8f60d.js"><link rel="prefetch" href="/myBlog/assets/js/7.3ec8d29d.js"><link rel="prefetch" href="/myBlog/assets/js/70.b58f54f1.js"><link rel="prefetch" href="/myBlog/assets/js/71.a03f403d.js"><link rel="prefetch" href="/myBlog/assets/js/72.09c14563.js"><link rel="prefetch" href="/myBlog/assets/js/73.751f81cc.js"><link rel="prefetch" href="/myBlog/assets/js/74.9f935cb7.js"><link rel="prefetch" href="/myBlog/assets/js/75.a41e57d9.js"><link rel="prefetch" href="/myBlog/assets/js/76.964fa837.js"><link rel="prefetch" href="/myBlog/assets/js/77.699a08ee.js"><link rel="prefetch" href="/myBlog/assets/js/78.e1c567e4.js"><link rel="prefetch" href="/myBlog/assets/js/79.dbf6eb6e.js"><link rel="prefetch" href="/myBlog/assets/js/8.20c2bf61.js"><link rel="prefetch" href="/myBlog/assets/js/80.4c3ae171.js"><link rel="prefetch" href="/myBlog/assets/js/81.5a28207f.js"><link rel="prefetch" href="/myBlog/assets/js/82.4138f26f.js"><link rel="prefetch" href="/myBlog/assets/js/83.1899e103.js"><link rel="prefetch" href="/myBlog/assets/js/84.21c71f92.js"><link rel="prefetch" href="/myBlog/assets/js/85.e38b21bc.js"><link rel="prefetch" href="/myBlog/assets/js/86.ecda6366.js"><link rel="prefetch" href="/myBlog/assets/js/87.ab51c354.js"><link rel="prefetch" href="/myBlog/assets/js/88.925a1946.js"><link rel="prefetch" href="/myBlog/assets/js/89.d3e2f554.js"><link rel="prefetch" href="/myBlog/assets/js/90.00972d9e.js"><link rel="prefetch" href="/myBlog/assets/js/91.eb81a3e9.js"><link rel="prefetch" href="/myBlog/assets/js/92.4f42d926.js"><link rel="prefetch" href="/myBlog/assets/js/93.26f8197f.js"><link rel="prefetch" href="/myBlog/assets/js/94.a2b0c4c9.js"><link rel="prefetch" href="/myBlog/assets/js/95.e3071f92.js"><link rel="prefetch" href="/myBlog/assets/js/96.ebddbad7.js"><link rel="prefetch" href="/myBlog/assets/js/97.2e07ae5f.js"><link rel="prefetch" href="/myBlog/assets/js/98.0cf447af.js"><link rel="prefetch" href="/myBlog/assets/js/99.5eebb00b.js"><link rel="prefetch" href="/myBlog/assets/js/vendors~docsearch.8bd86921.js">
    <link rel="stylesheet" href="/myBlog/assets/css/0.styles.d7353a58.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myBlog/" class="home-link router-link-active"><img src="/myBlog/assets/img/logo.png" alt="涂洋-得意洋洋的生活！" class="logo"> <span class="site-name can-hide">涂洋-得意洋洋的生活！</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myBlog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/myBlog/about.html" class="nav-link">
  关于我
</a></div> <a href="https://github.com/coocld/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/myBlog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/myBlog/about.html" class="nav-link">
  关于我
</a></div> <a href="https://github.com/coocld/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/myBlog/" aria-current="page" class="sidebar-link">首页</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/myBlog/css/" class="sidebar-heading clickable"><span>css</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myBlog/javascript/" class="sidebar-heading clickable"><span>javascript</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>typescript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myBlog/react/" class="sidebar-heading clickable"><span>react</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myBlog/components/" class="sidebar-heading clickable"><span>组件使用教程</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>node技巧</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myBlog/npm/" class="sidebar-heading clickable"><span>npm</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工具栏</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>规范</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myBlog/standard/html.html" class="sidebar-link">html 规范</a></li><li><a href="/myBlog/standard/css.html" class="sidebar-link">CSS 规范</a></li><li><a href="/myBlog/standard/js.html" class="sidebar-link">JS 规范</a></li><li><a href="/myBlog/standard/eslint.html" aria-current="page" class="active sidebar-link">ESLint 规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/standard/eslint.html#在原生-js-项目中使用" class="sidebar-link">在原生 js 项目中使用</a></li><li class="sidebar-sub-header"><a href="/myBlog/standard/eslint.html#在-vue-项目中使用" class="sidebar-link">在 Vue 项目中使用</a></li><li class="sidebar-sub-header"><a href="/myBlog/standard/eslint.html#在-react-项目中使用" class="sidebar-link">在 React 项目中使用</a></li><li class="sidebar-sub-header"><a href="/myBlog/standard/eslint.html#vscode-配置" class="sidebar-link">VSCode 配置</a></li><li class="sidebar-sub-header"><a href="/myBlog/standard/eslint.html#vscode的eslint的配置和自己项目的eslint冲突" class="sidebar-link">vscode的eslint的配置和自己项目的eslint冲突</a></li><li class="sidebar-sub-header"><a href="/myBlog/standard/eslint.html#eslint-编译时警告或错误的配置" class="sidebar-link">eslint 编译时警告或错误的配置</a></li></ul></li><li><a href="/myBlog/standard/stylelint.html" class="sidebar-link">stylelint 配置使用</a></li><li><a href="/myBlog/standard/stylelint14.html" class="sidebar-link">stylelint 升级到14+版本</a></li><li><a href="/myBlog/standard/file.html" class="sidebar-link">命名规范</a></li><li><a href="/myBlog/standard/ts.html" class="sidebar-link">Typescript错误忽略</a></li><li><a href="/myBlog/standard/git.html" class="sidebar-link">Git 操作规范</a></li><li><a href="/myBlog/standard/project-readme.html" class="sidebar-link">readme 文件</a></li><li><a href="/myBlog/standard/publish.html" class="sidebar-link">测试与发布</a></li><li><a href="/myBlog/standard/templates.html" class="sidebar-link">模板</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>资源分享</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>实用例子</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="eslint-规范"><a href="#eslint-规范" class="header-anchor">#</a> ESLint 规范</h1> <h2 id="在原生-js-项目中使用"><a href="#在原生-js-项目中使用" class="header-anchor">#</a> 在原生 js 项目中使用</h2> <ol><li>通过命令 <code>npm install eslint --save-dev</code> 在项目中安装 ESLint，或通过命令 <code>npm install eslint -g</code> 在全局安装</li> <li>引入公司规范文件中的默认配置 <code-link href="/eslint/eslint-defaults.js">eslint-defaults.js</code-link>，并重命名为 <code>.eslintrc.js</code></li> <li>整个项目代码自动修复格式化可使用命令 <code>npx eslint --fix</code></li> <li><code>eslint --no-fix</code> 检查格式错误，不自动修复</li></ol> <h2 id="在-vue-项目中使用"><a href="#在-vue-项目中使用" class="header-anchor">#</a> 在 Vue 项目中使用</h2> <h3 id="新项目"><a href="#新项目" class="header-anchor">#</a> 新项目</h3> <ol><li>执行 <code>vue create myapp</code> 通过 vue-cli 创建一个新的项目</li> <li>选择 &quot;Manually select features&quot; 选项，手动选择需要的功能</li> <li>保证 &quot;Linter / Formatter&quot; 选项为选中状态</li> <li>进入 &quot;Pick a linter / formatter config&quot; 选择 linter 配置的步骤时，选择 &quot;ESLint + Standard config&quot;，下一步</li> <li>选择 &quot;Lint on save&quot;，回车</li> <li>项目创建后，引入公司规范文件中的默认配置 <code-link href="/eslint/eslint-defaults.js">eslint-defaults.js</code-link>，
并按照 <code-link href="/eslint/eslint-vue.js">eslint-vue.js</code-link> 这个文件的内容覆盖 <code>.eslintrc.js</code></li></ol> <h3 id="现有项目"><a href="#现有项目" class="header-anchor">#</a> 现有项目</h3> <ol><li>如果有代码未提交，先执行 <code>git commit</code> 命令提交代码，因为在安装插件过程中现有代码会被插件修改</li> <li>首先通过 <code>vue add eslint</code> 命令安装 ESLint 插件，安装过程中会提示选择 ESLint 配置，选择 <code>Standard</code> 规范安装</li> <li>安装完成后，引入公司规范文件中的默认配置 <code-link href="/eslint/eslint-defaults.js">eslint-defaults.js</code-link>，
并按照 <code-link href="/eslint/eslint-vue.js">eslint-vue.js</code-link> 这个文件的内容覆盖 <code>.eslintrc.js</code></li></ol> <h3 id="整个项目代码格式化"><a href="#整个项目代码格式化" class="header-anchor">#</a> 整个项目代码格式化</h3> <ul><li>执行命令 <code>npx vue-cli-service lint</code> 即可</li></ul> <h2 id="在-react-项目中使用"><a href="#在-react-项目中使用" class="header-anchor">#</a> 在 React 项目中使用</h2> <h3 id="_1-安装eslint到项目"><a href="#_1-安装eslint到项目" class="header-anchor">#</a> 1. 安装eslint到项目</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> eslint --save-dev
</code></pre></div><h3 id="_2-在项目根目录创建eslint配置文件-eslintrc-js-也可以使用下面命令创建"><a href="#_2-在项目根目录创建eslint配置文件-eslintrc-js-也可以使用下面命令创建" class="header-anchor">#</a> 2. 在项目根目录创建ESlint配置文件.eslintrc.js， 也可以使用下面命令创建</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>eslint <span class="token parameter variable">--init</span>
</code></pre></div><p>以上选项一路回车即可，这些就是使用的eslint规则，后面可以自定义调整；</p> <h3 id="_3-安装-eslint-plugin-react-等相关依赖"><a href="#_3-安装-eslint-plugin-react-等相关依赖" class="header-anchor">#</a> 3. 安装 eslint-plugin-react 等相关依赖：</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> babel-eslint eslint-plugin-react eslint-plugin-import  --save-dev
</code></pre></div><h3 id="_4-完整的-eslintrc-js配置文件-参考示例"><a href="#_4-完整的-eslintrc-js配置文件-参考示例" class="header-anchor">#</a> 4. 完整的.eslintrc.js配置文件 参考示例：</h3> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;es2021&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;es6&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;babel-eslint&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;plugin:react/recommended&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;./eslint-defaults.js&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;parserOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;ecmaFeatures&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;ecmaVersion&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;sourceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;react&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;overrides&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;**/__tests__/*.{j,t}s?(x)&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;**/tests/unit/**/*.spec.{j,t}s?(x)&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;**/*.test.js&quot;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string-property property">&quot;jest&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-在package-json文件中增加如下脚本指令"><a href="#_5-在package-json文件中增加如下脚本指令" class="header-anchor">#</a> 5. 在package.json文件中增加如下脚本指令：</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint --ext .js --ext .jsx src&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>--ext</code> 这个选项允许你指定 ESLint 在指定的目录下查找 JavaScript文件时要使用的文件扩展名。默认情况下，它使用 .js 作为唯一性文件扩展名。</p> <h2 id="vscode-配置"><a href="#vscode-配置" class="header-anchor">#</a> VSCode 配置</h2> <ol><li>安装 <a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" target="_blank" rel="noopener noreferrer">ESLint 插件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>按快捷键 <code>Win + Shift + p</code> 输入 setting，选择 <code>Preference: Open Settings(JSON)</code>，打开 JSON 格式的配置文件</li> <li>在末尾添加以下配置：</li></ol> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token property">&quot;[vue]&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;editor.defaultFormatter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dbaeumer.vscode-eslint&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;[javascript]&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;editor.defaultFormatter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dbaeumer.vscode-eslint&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;[typescript]&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;editor.defaultFormatter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dbaeumer.vscode-eslint&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;editor.formatOnSave&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;editor.codeActionsOnSave&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;source.fixAll&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eslint.format.enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><p>配置含义：</p> <ul><li><code>eslint.format.enable</code>：使用 ESlint 作为所有由 ESlint 验证的文件的格式化工具</li> <li><code>&quot;editor.defaultFormatter&quot;: &quot;dbaeumer.vscode-eslint&quot;</code>：指定对应语言的默认格式化工具为我们装的 ESLint 插件</li> <li><code>editor.codeActionsOnSave</code>：用于指定当保存代码时需要编辑器执行的动作，里面的值 <code>&quot;source.fixAll&quot;: true</code> 表示为包括 ESLint 的所有插件启用自动修复，
也可以通过 <code>&quot;source.fixAll.eslint&quot;: true</code> 只开启 ESLint 的自动修复</li> <li><code>editor.formatOnSave</code>：保存文件时自动格式化，当启用了 <code>editor.codeActionsOnSave</code> 时建议关掉 <code>editor.formatOnSave</code>，如果同时打开会导致保存文件时格式化两次</li></ul> <h2 id="vscode的eslint的配置和自己项目的eslint冲突"><a href="#vscode的eslint的配置和自己项目的eslint冲突" class="header-anchor">#</a> vscode的eslint的配置和自己项目的eslint冲突</h2> <p>上面的配置好之后，我发现我的vscode出现了如下的报错：</p> <p><code>ESLint: Cannot read properties of undefined (reading 'loc') Occurred while linting E:\bihu\yuanxin-admin\src\pages\data-report-manage\data-screening\data-screening.tsx:1 Rule: &quot;indent&quot;. Please see the 'ESLint' output channel for details.</code></p> <img src="/myBlog/assets/img/eslint.jpg" class="zoom-custom-imgs"> <p>一直在网上找各种解决方案，一直没找到解决办法，折磨了我几个月（闹心），一直以为是项目的eslint配置问题，</p> <p>后来才想到会不会是vscode配置文件<code>settings.json</code>问题，我就把我的vscode 的配置文件<code>settings.json</code>发给同事，他的vscode没报这个错误，用了我的配置后就复现报错了。</p> <p>经过注释对比之后，发现，我的vscode配置文件<code>settings.json</code>，多了如下配置：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string-property property">&quot;eslint.validate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// eslint校验的文件格式</span>
  <span class="token string">&quot;javascript&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;javascriptreact&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;typescript&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;typescriptreact&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;vue&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;html&quot;</span>
<span class="token punctuation">]</span>
</code></pre></div><p>把上面这个 删除之后，就不报错了。 终于找到问题所在了</p> <p>我就觉得这个是vscode eslint插件本身自己的检验文件格式，然后和我项目的eslint配置的 缩进 indent 规则有冲突了吧，才会报上面的错误。 所以这里就把他这个校验去掉，只使用项目本身的eslint规则就好了</p> <h3 id="eslint-教程"><a href="#eslint-教程" class="header-anchor">#</a> eslint 教程</h3> <ul><li>安装eslint</li></ul> <div class="language- extra-class"><pre class="language-text"><code>npm install eslint --save-dev
</code></pre></div><ul><li>添加eslint的配置文件.eslintrc.js</li></ul> <p>在项目根目录创建ESlint配置文件.eslintrc.js， 也可以使用下面命令创建</p> <div class="language-bash extra-class"><pre class="language-bash"><code>eslint <span class="token parameter variable">--init</span>
</code></pre></div><p>以上选项一路回车即可，这些就是使用的eslint规则，后面可以自定义调整；</p> <ul><li>有了eslint之后，我们就能通过它来检查指定的代码文件了。我们在npm scripts加入如下脚本</li></ul> <div class="language- extra-class"><pre class="language-text"><code>{
  ...
  &quot;scripts&quot;: {
    ...
    &quot;lint&quot;: &quot;eslint --ext .js --ext .jsx src&quot;
    ...
  }
  ...
}
</code></pre></div><p>在命令行中运行 npm run lint 即可， --ext 扩展名，</p> <p><code>eslint --ext .js --ext .jsx src</code> 这句命令的意思是，在src目录下，检查.js和.jsx文件的格式</p> <ul><li>一键自动格式化文件命令, --fix</li></ul> <div class="language- extra-class"><pre class="language-text"><code>eslint --ext .js --ext .jsx src --fix
</code></pre></div><ul><li>只检查，不自动格式化文件命名</li></ul> <div class="language- extra-class"><pre class="language-text"><code>eslint --ext .js --ext .jsx src --no-fix
</code></pre></div><h4 id="eslint添加全局变量"><a href="#eslint添加全局变量" class="header-anchor">#</a> eslint添加全局变量</h4> <p>在.eslintrc.js文件下添加下面代码，表示eslint知道globals对象的属性它们是全局变量，就不会报错了</p> <div class="language- extra-class"><pre class="language-text"><code>//全局变量
  &quot;globals&quot;: {
    &quot;__DEV__&quot;: true,
    &quot;__WECHAT__&quot;: true,
    &quot;__ALIPAY__&quot;: true,
    &quot;App&quot;: true,
    &quot;Page&quot;: true,
    &quot;Component&quot;: true,
    &quot;Behavior&quot;: true,
    &quot;wx&quot;: true,
    &quot;getApp&quot;: true,
    &quot;getCurrentPages&quot;: true,
  },
</code></pre></div><h4 id="eslintignore文件-指定哪些文件或者文件夹不进行检查"><a href="#eslintignore文件-指定哪些文件或者文件夹不进行检查" class="header-anchor">#</a> .eslintignore文件 指定哪些文件或者文件夹不进行检查</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">build</span><span class="token regex-delimiter">/</span></span>
<span class="token operator">/</span>config<span class="token operator">/</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">dist</span><span class="token regex-delimiter">/</span></span>
<span class="token operator">/</span>test<span class="token operator">/</span>unit<span class="token operator">/</span>coverage<span class="token operator">/</span>
</code></pre></div><p>记得在你的项目根目录下添加.eslintignore文件哟</p> <h4 id="忽略单行检查"><a href="#忽略单行检查" class="header-anchor">#</a> 忽略单行检查</h4> <p><code>// eslint-disable-line</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// eslint-disable-line</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token boolean">true</span>
</code></pre></div><h4 id="忽略多行检查"><a href="#忽略多行检查" class="header-anchor">#</a> 忽略多行检查</h4> <p><code>/* eslint-disable */ 和 /* eslint-enable */ 组合使用</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* eslint-disable */</span>
<span class="token keyword">let</span> myCar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
myCar<span class="token punctuation">.</span>make <span class="token operator">=</span> <span class="token string">'Ford'</span>
myCar<span class="token punctuation">.</span>model <span class="token operator">=</span> <span class="token string">'Mustang'</span>
myCar<span class="token punctuation">.</span>year <span class="token operator">=</span> <span class="token number">1969</span>
<span class="token comment">/* eslint-enable */</span>
</code></pre></div><p><code>/* eslint-disable */</code> 写在文件头部或写在需要忽略的代码上方</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// The Vue build version to load with the `import` command</span>
<span class="token comment">// (runtime-only or standalone) has been set in webpack.base.conf with an alias.</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token comment">/* eslint-disable */</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'&lt;App/&gt;'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> App <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="忽略整个文件或者以下代码全部忽略"><a href="#忽略整个文件或者以下代码全部忽略" class="header-anchor">#</a> 忽略整个文件或者以下代码全部忽略</h4> <p>参考文章</p> <p><a href="https://juejin.cn/post/6844903492545429512#heading-1" target="_blank" rel="noopener noreferrer">掘金 从0到1配置eslint (所有人一看就懂)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.jianshu.com/p/fd4bc462220b" target="_blank" rel="noopener noreferrer">简书 ESLint 使用记录<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="eslint-编译时警告或错误的配置"><a href="#eslint-编译时警告或错误的配置" class="header-anchor">#</a> eslint 编译时警告或错误的配置</h2> <p><strong>背景：</strong> 相信大家在项目引入eslint的时候，都会遇到，当eslint报错时就会直接导致整个页面报错，不能运行</p> <p>其实解决方法也不难，原理是：eslint使用了 <code>eslint-loader</code> 或者 <code>eslint-webpack-plugin</code>来检验我们的代码是否符合规范</p> <p>细心的同学，去<a href="https://www.npmjs.com/package/eslint-loader" target="_blank" rel="noopener noreferrer">eslint-loader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 或者 <a href="https://www.npmjs.com/package/eslint-webpack-plugin" target="_blank" rel="noopener noreferrer">eslint-webpack-plugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的npm官方看文档就会发现，他们会提供这个配置 <code>failOnError</code></p> <img src="/myBlog/assets/img/fail-on-error.png" class="zoom-custom-imgs"> <p><strong>这个配置默认是true，只要我们把它关闭（设置为false），那么就可以在eslint报错的时候也不会导致项目编译失败</strong></p> <p>现在我们知道原理了，只需要改一个配置即可。下面我们来实战项目下怎么改</p> <h3 id="vue项目中"><a href="#vue项目中" class="header-anchor">#</a> vue项目中</h3> <p>在vue项目中，我们只需在 vue.config.js 文件中配置 <code>lintOnSave</code> 的值即可</p> <ul><li>lintOnSave的值类型有: <code>boolean</code> | <code>warning</code> | <code>default</code> | <code>error</code></li> <li>默认值是<code>default</code></li></ul> <p>默认值情况下，eslint 的警告会输出到命令行，不会导致编译失败，eslint 的错误，也会输出到命令行，而且会导致编译失败</p> <p>设置为 <code>true</code> 或 <code>warning</code> 时，eslint-loader 会将 eslint 的错误输出为编译警告，且不会使得编译失败。</p> <p>设置为 <code>error</code> 将会使得 eslint-loader 把 eslint 的警告也输出为编译错误，这意味着 eslint 的警告将会导致编译失败。</p> <p>最终我们只需在 <code>vue.config.js</code> 文件，配置如下即可：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 生产环境下使用默认值，开发环境使用 ture </span>
  <span class="token literal-property property">lintOnSave</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'default'</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>参考文章：<a href="https://cli.vuejs.org/zh/config/#lintonsave" target="_blank" rel="noopener noreferrer">vue.config.js文件的lintOnSave配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="react项目中"><a href="#react项目中" class="header-anchor">#</a> react项目中</h3> <p>在我们使用<code>react-create-app</code>生成项目时，脚手架会帮我们自动配置好了webpack的配置，并且隐藏起来，我们在项目目录文件下看不到配置文件，</p> <p>想要看到react项目的一些配置文件也很简单，使用下面命令即可</p> <div class="language-js extra-class"><pre class="language-js"><code>npm run eject
</code></pre></div><p>这里推荐Create React App 中文网给大家看看，<a href="https://www.html.cn/create-react-app/docs/available-scripts/" target="_blank" rel="noopener noreferrer">Create React App 中文文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>使用 <code>npm run eject</code>后生成的配置文件，看到现在的react项目是使用<code>eslint-webpack-plugin</code>这个插件依赖包的</p> <img src="/myBlog/assets/img/fail-on-error2.jpg" class="zoom-custom-imgs"> <p>如果你的项目是使用 <code>npm run eject</code> 暴露出配置文件了，那么你直接改<code>eslint-webpack-plugin</code>的配置即可</p> <p>如下：</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">new</span> <span class="token class-name">ESLintPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// Plugin options</span>
        <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'js'</span><span class="token punctuation">,</span> <span class="token string">'mjs'</span><span class="token punctuation">,</span> <span class="token string">'jsx'</span><span class="token punctuation">,</span> <span class="token string">'ts'</span><span class="token punctuation">,</span> <span class="token string">'tsx'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">formatter</span><span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'react-dev-utils/eslintFormatter'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">eslintPath</span><span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'eslint'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">failOnError</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 重点这个配置</span>
        <span class="token literal-property property">context</span><span class="token operator">:</span> paths<span class="token punctuation">.</span>appSrc<span class="token punctuation">,</span>
        <span class="token literal-property property">cache</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">// ESLint class options</span>
        <span class="token literal-property property">cwd</span><span class="token operator">:</span> paths<span class="token punctuation">.</span>appPath<span class="token punctuation">,</span>
        <span class="token literal-property property">resolvePluginsRelativeTo</span><span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
        <span class="token literal-property property">baseConfig</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'eslint-config-react-app/base'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token operator">...</span><span class="token punctuation">(</span><span class="token operator">!</span>hasJsxRuntime <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span>
              <span class="token string-property property">'react/react-in-jsx-scope'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>如果你不想用<code>npm run eject</code>暴露配置文件</p> <p>这里使用 <a href="https://www.npmjs.com/package/customize-cra" target="_blank" rel="noopener noreferrer">customize-cra<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>依赖包来修改react的相关配置</p> <p>下面给大家放笔者实战项目的真实配置</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> CopyPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'copy-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ProgressBarPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'progress-bar-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>
  override<span class="token punctuation">,</span> <span class="token comment">// 生成覆写配置</span>
  addWebpackAlias<span class="token punctuation">,</span> <span class="token comment">// 添加路径别名</span>
  adjustStyleLoaders<span class="token punctuation">,</span> <span class="token comment">// 修改样式 loader</span>
  overrideDevServer<span class="token punctuation">,</span> <span class="token comment">// 配置开发环境跨域</span>
  addWebpackPlugin<span class="token punctuation">,</span> <span class="token comment">// 添加新插件</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'customize-cra'</span><span class="token punctuation">)</span> <span class="token comment">// 更容易地使用 config.overrides</span>

<span class="token keyword">const</span> myPlugis <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">patterns</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token string">'node_modules/pdfjs-dist/cmaps/'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">'cmaps'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token comment">// 自定义函数，修改 webpack 的配置，</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeWebpackConfig</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// console.log(config)</span>
  <span class="token comment">// process.exit() // 中断</span>

  <span class="token comment">// 更改ESLintWebpackPlugin配置</span>
  config<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'ESLintWebpackPlugin'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 如果有任何错误，将导致模块构建失败，禁用设置为false.</span>
      item<span class="token punctuation">.</span>options<span class="token punctuation">.</span>failOnError <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// 修改 url loader，使其支持「require」语法，</span>
  <span class="token keyword">const</span> loaders <span class="token operator">=</span> config<span class="token punctuation">.</span>module<span class="token punctuation">.</span>rules<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">rule</span> <span class="token operator">=&gt;</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>rule<span class="token punctuation">.</span>oneOf<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>oneOf <span class="token comment">// 获取 loader，oneOf 是优化，不需要每个文件把所有的 loader 都询问一遍，可以提高 loader 的执行效率</span>
  loaders<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">loader</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log(loaders) // 打印所有 loader</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>loader<span class="token punctuation">.</span>test <span class="token operator">&amp;&amp;</span> loader<span class="token punctuation">.</span>test<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'.png$'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 寻找匹配 .png 的 loader：url-loader</span>
      loader<span class="token punctuation">.</span>options<span class="token punctuation">.</span>esModule <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> config
<span class="token punctuation">}</span>

<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">override</span><span class="token punctuation">(</span>
  <span class="token comment">// 打包增加进度条提示</span>
  <span class="token function">addWebpackPlugin</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ProgressBarPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// 修改 url-loader</span>
  <span class="token function">changeWebpackConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// 路径别名</span>
  <span class="token function">addWebpackAlias</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string-property property">'@'</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string-property property">'@pages'</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/pages'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string-property property">'@img'</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/assets/imgs'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string-property property">'@commom'</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/common/js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string-property property">'@component'</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/base-components'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// 修改样式配置</span>
  <span class="token function">adjustStyleLoaders</span><span class="token punctuation">(</span><span class="token parameter">rule</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>rule<span class="token punctuation">.</span>test<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'scss'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      rule<span class="token punctuation">.</span>use<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'sass-resources-loader'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">resources</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 设置全部 scss 变量</span>
            <span class="token string">'./src/common/scss/var.scss'</span><span class="token punctuation">,</span>
            <span class="token string">'./src/common/scss/mixin.scss'</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span>plugins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>config<span class="token punctuation">.</span>plugins<span class="token punctuation">,</span> <span class="token operator">...</span>myPlugis<span class="token punctuation">]</span>
    <span class="token keyword">return</span> config
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  webpack<span class="token punctuation">,</span>
  <span class="token literal-property property">eslint</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 代理</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token function">overrideDevServer</span><span class="token punctuation">(</span><span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span>proxy <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token comment">// '/api': {</span>
      <span class="token comment">//   target: 'http://xxx/',</span>
      <span class="token comment">//   changeOrigin: true,</span>
      <span class="token comment">//   secure: false</span>
      <span class="token comment">// },</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> config
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>上面代码中修改<code>ESLintWebpackPlugin</code>配置注意是</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 更改ESLintWebpackPlugin配置</span>
  config<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'ESLintWebpackPlugin'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 如果有任何错误，将导致模块构建失败，禁用设置为false.</span>
      item<span class="token punctuation">.</span>options<span class="token punctuation">.</span>failOnError <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2025年11月21日星期五下午2点45分</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/myBlog/standard/js.html" class="prev">
        JS 规范
      </a></span> <span class="next"><a href="/myBlog/standard/stylelint.html">
        stylelint 配置使用
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div class="back-to-top" style="display:none;" data-v-c5d37c36 data-v-c5d37c36><div class="back-top-container top" data-v-c5d37c36><div class="cat top" data-v-c5d37c36><span class="eyes left" data-v-c5d37c36></span> <span class="eyes right" data-v-c5d37c36></span> <span class="mouth" data-v-c5d37c36></span></div> <div class="moon top" data-v-c5d37c36></div></div></div><!----></div></div>
    <script src="/myBlog/assets/js/app.0f493eff.js" defer></script><script src="/myBlog/assets/js/4.c517c277.js" defer></script><script src="/myBlog/assets/js/1.4d746d8b.js" defer></script><script src="/myBlog/assets/js/109.7afe8496.js" defer></script><script src="/myBlog/assets/js/20.913b84db.js" defer></script>
  </body>
</html>
